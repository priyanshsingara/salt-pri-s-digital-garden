@import "tailwindcss";
@custom-variant dark (&:where(.dark, .dark *));

@theme {
    /* 
       Flexoki System Colors 
       Source: https://stephango.com/flexoki 
    */

    /* Base - Warm Grayscale */
    --color-flexoki-black: #100F0F;
    --color-flexoki-950: #1C1B1A;
    --color-flexoki-900: #282726;
    --color-flexoki-850: #343331;
    --color-flexoki-800: #403E3C;
    --color-flexoki-700: #575653;
    --color-flexoki-600: #6F6E69;
    --color-flexoki-500: #878580;
    --color-flexoki-300: #B7B5AC;
    --color-flexoki-200: #CECDC3;
    --color-flexoki-150: #DAD8CE;
    --color-flexoki-100: #E6E4D9;
    --color-flexoki-50: #F2F0E5;
    --color-flexoki-paper: #FFFCF0;

    /* Accents - Light Mode (600) */
    --color-red-600: #AF3029;
    --color-orange-600: #BC5215;
    --color-yellow-600: #AD8301;
    --color-green-600: #66800B;
    --color-cyan-600: #24837B;
    --color-blue-600: #205EA6;
    --color-purple-600: #5E409D;
    --color-magenta-600: #A02F6F;

    /* Accents - Dark Mode (400) */
    --color-red-400: #D14D41;
    --color-orange-400: #DA702C;
    --color-yellow-400: #D0A215;
    --color-green-400: #879A39;
    --color-cyan-400: #3AA99F;
    --color-blue-400: #4385BE;
    --color-purple-400: #8B7EC8;
    --color-magenta-400: #CE5D97;

    /* Semantic Token Aliases for Tailwind */
    --color-bg-main: var(--bg-main);
    --color-bg-subtle: var(--bg-subtle);
    --color-ui-border: var(--ui-border);
    --color-ui-hover: var(--ui-hover);

    --color-text-main: var(--text-main);
    --color-text-muted: var(--text-muted);
    --color-text-faint: var(--text-faint);

    --color-link: var(--link);
    --color-link-hover: var(--link-hover);

    /* Fonts */
    --font-sans: "Geist", sans-serif;
    --font-mono: "Geist Mono", monospace;
}

:root {
    /* Semantic Mappings - Light Mode */
    --bg-main: var(--color-flexoki-paper);
    --bg-subtle: var(--color-flexoki-50);

    --ui-border: var(--color-flexoki-100);
    /* Fixed: Was 200, now 100 to match Figma #E6E4D9 */
    --ui-hover: var(--color-flexoki-150);

    --text-main: var(--color-flexoki-black);
    /* Fixed: Was 600, now 500 to match Figma */
    --text-muted: var(--color-flexoki-500);
    --text-faint: var(--color-flexoki-300);

    --link: var(--color-cyan-400);
    /* Fixed: Was 600, now 400 to match Figma #3AA99F */
    --link-hover: var(--color-cyan-600);
    /* Keep hover slightly darker/different or same? Standard is same usually for simple text links, but let's keep 600 for contrast on hover? Or just 400? Let's try 600 for interaction feedback. */
}

.dark {
    /* Semantic Mappings - Dark Mode */
    --bg-main: var(--color-flexoki-black);
    --bg-subtle: var(--color-flexoki-950);

    --ui-border: var(--color-flexoki-950);
    /* Updated to darker border */
    --ui-hover: var(--color-flexoki-850);

    /* Updated to match Figma #CECDC3 */
    --text-main: var(--color-flexoki-200);
    /* Updated to match Figma #878580 */
    --text-muted: var(--color-flexoki-500);
    --text-faint: var(--color-flexoki-700);

    --link: var(--color-cyan-400);
    --link-hover: var(--color-cyan-400);
}

body {
    @apply bg-bg-main text-text-main font-sans antialiased selection:bg-ui-hover selection:text-text-main;
    font-size: 18px;
    /* Updated to 18px */
    letter-spacing: 0;
}

/* Typography styles */
h1 {
    @apply font-semibold mb-8 text-text-main;
    font-size: 32px;
    letter-spacing: -0.32px;
}

h2 {
    @apply text-xl font-semibold mt-12 mb-6 text-text-main;
    font-size: 24px;
    letter-spacing: 0;
}

h3 {
    @apply text-lg font-semibold mt-8 mb-4 text-text-main;
    font-size: 18px;
    letter-spacing: 0;
}

p {
    @apply leading-relaxed text-text-main max-w-[65ch];
}

/* Links */
a {
    @apply text-link no-underline transition-colors duration-200;
}

a:hover {
    @apply underline decoration-link underline-offset-4;
}



/* Meta text */
.meta {
    @apply text-[16px] text-text-muted font-mono;
}

/* Scoped Prose Styles (Restoring margins ONLY for blog content) */
.markdown-body p {
    margin-bottom: 24px;
}

.markdown-body h2 {
    margin-top: 48px;
    margin-bottom: 24px;
}

.markdown-body h3 {
    margin-top: 32px;
    margin-bottom: 16px;
}

.markdown-body ul,
.markdown-body ol {
    margin-bottom: 24px;
}

.markdown-body li {
    margin-bottom: 8px;
}

/* Mobile Typography Updates (<400px) */
@media (max-width: 400px) {
    body {
        font-size: 16px;
    }

    .meta,
    code,
    pre {
        font-size: 14px !important;
    }

    /* Scale down other text if needed */
}

/* Blockquotes */
blockquote {
    @apply border-l-4 border-ui-border pl-6 italic text-text-muted my-8;
}

/* Code blocks */
pre {
    @apply bg-bg-subtle border border-ui-border p-4 rounded-lg overflow-x-auto my-8 text-[16px] font-mono;
}

code {
    @apply bg-bg-subtle px-1.5 py-0.5 rounded text-[16px] text-text-main font-mono;
}

/* Dividers */
hr {
    @apply border-ui-border border-t m-0;
}